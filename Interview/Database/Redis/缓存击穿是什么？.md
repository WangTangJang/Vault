缓存击穿是指缓存中*没有对应的数据*,所有的请求都会打到数据库上。这个问题可能会导致数据库因为过载而宕机或者不可用。

缓存击穿一般有以下几种场景:

1. **缓存没有命中**
对于一个高并发系统,如果缓存中没有数据,大量的请求就会直接打到数据库上,可能会导致数据库压力太大而宕机。

2. **缓存数据过期**
如果缓存设置了过期时间,过期后就需要从数据库重新加载数据。如果在这段时间内有大量请求过来,也可能会导致数据库压力太大。

3. **缓存预热不足**
对于一个新系统的上线,如果没做好缓存预热,可能会直接把数据库打挂。

常见的解决方案有:

1. **使用互斥锁**
对于相同的key只让一个线程去查询后端服务，其它线程等待即可。

2. **使用永不过期**
缓存数据永不过期,有更新操作时主动去刷新缓存数据。

3. **提前预热缓存**
在服务启动时预先从数据库加载数据到缓存中。

4. **分级缓存**
nginx反向代理层缓存热点数据。

5. **使用本地JVM缓存**
使用Redis/Memcached等分布式缓存作为备用缓存。

6. **限流&降级**
对于不重要的业务采用限流或降级策略。

总之缓存击穿是缓存场景中必须要考虑的一个问题,需要提前设计合理的解决方案来避免数据库压力过大。