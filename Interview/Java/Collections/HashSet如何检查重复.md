`HashSet` 是 Java 中的一个集合类，它不允许存储重复的元素。`HashSet` 的内部实现基于 `HashMap`，它通过存储元素的哈希码和对象的 `equals` 方法来检查重复。

以下是 `HashSet` 检查重复的基本原理：

1. **哈希码（Hash Code）**：每个对象都有一个唯一的哈希码，这是通过调用对象的 `hashCode()` 方法获得的。`HashSet` 使用这个哈希码来确定元素在内部 `HashMap` 的存储位置。

2. **哈希映射（HashMap）**：`HashSet` 内部使用一个 `HashMap` 来存储元素。当你向 `HashSet` 添加一个元素时，实际上是将其放入 `HashMap` 的一个桶（bucket）中。桶的位置由元素的哈希码决定。

3. **equals 方法**：如果两个对象的哈希码相同，`HashSet` 会进一步使用 `equals` 方法来检查这两个对象是否实际上是相同的。如果 `equals` 方法返回 `true`，则认为这两个对象相等，`HashSet` 只会存储其中一个。

4. **处理哈希冲突**：如果两个对象的哈希码相同（这称为哈希冲突），`HashSet` 会使用链表或红黑树（在 Java 8 中对于长度较长的链表）来存储这些具有相同哈希码的对象。在这种情况下，`equals` 方法也会被用来检查是否已经存在一个相同的对象。

5. **动态扩容**：当 `HashSet` 内部的 `HashMap` 达到一定的填充因子（load factor）时，它会进行扩容，以保持高效的查找和插入操作。

通过这种方式，`HashSet` 能够有效地检查并避免存储重复的元素。当你尝试添加一个已经存在的元素时，`HashSet` 会根据哈希码和 `equals` 方法的比较结果决定是否接受这个新元素。如果发现重复，新元素不会被添加到集合中。